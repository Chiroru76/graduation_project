<%# ログインページ／ログイン処理では表示しない %>
<% if controller_name == "sessions" && %w[new create].include?(action_name) %>
  <%# 表示しない %>
<% else %>
  <% flash.each do |key, message| %>
    <% next if message.blank? %>
    <% flash_color = case key.to_s
       when "notice" then "bg-green-100 border-green-400 text-green-800"
       when "alert","error" then "bg-red-100 border-red-400 text-red-800"
       else "bg-yellow-100 border-yellow-400 text-yellow-800"
       end %>
    <div class="my-4 px-6 py-4 border-l-4 rounded shadow-sm <%= flash_color %>">
      <% if message.is_a?(Array) %>
        <ul class="list-disc pl-5">
          <% message.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      <% else %>
        <%= message %>
      <% end %>
    </div>
  <% end %>
<% end %>