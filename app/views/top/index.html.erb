<div class="min-h-screen flex flex-col">

  <!-- ===== Hero ===== -->
  <section class="relative h-[56svh] md:h-[70svh] w-full overflow-hidden flex flex-col justify-center mb-15">

    <div class="flex flex-col items-center justify-center mt-12">
      <%= image_tag "motipet_toppage.svg", alt: "toppagelogo", class: "block mx-auto w-64 md:w-[600px] h-auto" %>
      <p class="mt-6 text-base md:text-lg text-gray-800 font-medium drop-shadow text-center">
        習慣とTODOの完了が、ペットの成長に直結
      </p>
    </div>

    <div class="mt-10 flex justify-center">
      <div class="flex flex-wrap items-center justify-center gap-4">
        <% if user_signed_in? %>
          <%= link_to "ダッシュボードへ", dashboard_show_path,
            class: "rounded-full bg-amber-300 px-6 py-3 font-bold text-gray-900 shadow hover:bg-amber-400 transition" %>
        <% else %>
          <%= link_to "ログイン", new_user_session_path, class: "flex items-center bg-gray-200 hover:bg-gray-300 text-black font-bold text-base rounded-2xl px-8 py-4 transition" %>
          <%= link_to new_user_registration_path, class: "flex items-center bg-yellow-200 hover:bg-yellow-300 text-black font-bold text-base rounded-2xl px-8 py-4 transition" do %>
            <span class="mr-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="inline w-7 h-7" fill="currentColor" viewBox="0 0 20 20"><path d="M10 10a4 4 0 100-8 4 4 0 000 8zm-7 8a7 7 0 1114 0H3z"/></svg>
            </span>
            新規登録
          <% end %>
        <% end %>
      </div>
    </div>
  </section>

  <!-- ===== 使い方===== -->
  <section id="howto" class="container mx-auto px-4 md:px-8 py-14 space-y-8">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">
      アプリの使い方
    </h2>
    <span class="block mx-auto w-56 md:w-64 h-1 bg-amber-400 rounded"></span>

    <!-- STEP 1 -->
    <div class="grid grid-cols-1 md:grid-cols-2 m-10 gap-1 items-center justify-center bg-amber-50/80 rounded-2xl p-6 shadow-sm">
      <div class="order-1 md:order-1 flex flex-col items-center md:items-start">
      <h3 class="text-xl font-bold mb-2 text-center md:text-left">① たまごを手に入れる</h3>
      <p class="text-gray-700 text-base md:text-lg text-left">
        新規登録すると“たまご”を入手できます！
      </p>
      </div>
      <div class="order-2 md:order-2 flex justify-center">
      <div class="aspect-video w-56 md:w-64 rounded-2xl bg-white/50 grid place-items-center text-gray-400">
        <%= image_tag "characters/egg/egg_egg_idle.png", alt: "ペット", width: 180, height: 180, class: "block mx-auto" %>
      </div>
      </div>
    </div>

    <!-- STEP 2 -->
    <div class="grid grid-cols-1 md:grid-cols-2 m-10 gap-1 items-center justify-center bg-amber-50/80 rounded-2xl p-6 shadow-sm">
      <div class="flex flex-col items-center md:items-start">
      <h3 class="text-xl font-bold mb-2 text-center md:text-left">② 習慣・TODOを登録</h3>
      <p class="text-gray-700 text-base md:text-lg text-left">
        「勉強」「運動」「読書」など、続けたい習慣やTODOを登録しましょう。<br>チェックボックス形式またはログの入力によりタスクの完了を記録します。<br>
        タスクの難易度によって完了時に入手できる経験値が異なります。
      </p>
      </div>
      <div class="flex justify-center">
      <div class="aspect-video w-56 md:w-64 rounded-2xl bg-white/50 grid place-items-center text-gray-400">
        <%= image_tag "top/habit_image.png", alt: "習慣登録", width: 180, height: 180, class: "block mx-auto" %>
      </div>
      </div>
    </div>

    <!-- STEP 3 -->
    <div class="grid grid-cols-1 md:grid-cols-2 m-10 gap-1 items-center justify-center bg-amber-50/80 rounded-2xl p-6 shadow-sm">
      <div class="flex flex-col items-center md:items-start">
      <h3 class="text-xl font-bold mb-2 text-center md:text-left">③ ペットの誕生と成長</h3>
      <p class="text-gray-700 text-base md:text-lg text-left">
        まずは卵を孵化させるために、レベルアップを目指しましょう。<br>生まれたペットは、あなたの日々の行動によって成長していきます。
        <br>一定のレベルに達すると進化するので、進化を目指して育ててください。
      </p>
      </div>
      <div class="flex justify-center">
      <div class="aspect-video w-56 md:w-64 rounded-2xl bg-white/50 grid place-items-center text-gray-400">
        <%= image_tag "top/levelup.png", alt: "レベルアップ", width: 180, height: 180, class: "block mx-auto" %>
      </div>
      </div>
    </div>

    <!-- STEP 4 -->
    <div class="grid grid-cols-1 md:grid-cols-2 m-10 gap-1 items-center justify-center bg-amber-50/80 rounded-2xl p-6 shadow-sm">
      <div class="flex flex-col items-center md:items-start">
      <h3 class="text-xl font-bold mb-2 text-center md:text-left">④ エサやりは忘れずに…</h3>
      <p class="text-gray-700 text-base md:text-lg text-left">
        タスクの完了時に入手できる「エサ」を与えると「しあわせ度」がアップします。<br>「しあわせ度」は毎日少しずつ減少するため、エサは定期的に与えましょう。<br>「しあわせ度」が0になるとペットは死んでしまいます…
      </p>
      </div>
      <div class="flex justify-center">
      <div class="aspect-video w-56 md:w-64 rounded-2xl bg-white/50 grid place-items-center text-gray-400">
        <%= image_tag "death.png", alt: "ペット", width: 180, height: 180, class: "block mx-auto" %>
      </div>
      </div>
    </div>

  </section>

  <section class="py-12 bg-gradient-to-b from-white to-amber-50/60">
    <div class="container mx-auto px-6 md:px-10 text-center">
      <h3 class="text-xl md:text-2xl font-bold">今すぐ始めましょう</h3>
      <div class="mt-6 flex justify-center gap-4">
        <% if user_signed_in? %>
          <%= link_to "ダッシュボードへ", dashboard_show_path,
            class: "rounded-full bg-amber-300 px-6 py-3 font-bold text-gray-900 shadow hover:bg-amber-400 transition" %>
        <% else %>
          <%= link_to "ログイン", new_user_session_path, class: "flex items-center bg-gray-200 hover:bg-gray-300 text-black font-bold text-base rounded-2xl px-8 py-4 ml-4 transition" %>
          <%= link_to new_user_registration_path, class: "flex items-center bg-yellow-200 hover:bg-yellow-300 text-black font-bold text-base rounded-2xl px-8 py-4 ml-4 transition" do %>
            <span class="mr-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="inline w-7 h-7" fill="currentColor" viewBox="0 0 20 20"><path d="M10 10a4 4 0 100-8 4 4 0 000 8zm-7 8a7 7 0 1114 0H3z"/></svg>
            </span>
            新規登録
          <% end %>
        <% end %>
      </div>
    </div>
  </section>

</div>